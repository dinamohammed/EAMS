<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>

        <record id="view_hr_equipment_request_stock_custom" model="ir.ui.view">
            <field name="name">maintenance.request.form.stock</field>
            <field name="model">maintenance.request</field>
            <field name="inherit_id" ref="maintenance.hr_equipment_request_view_form"/>
            <field name="arch" type="xml">
                <data>
                    <field name="name" position="before">
                        <widget name="web_ribbon" title="Corrective" bg_color="bg-success"
                                attrs="{'invisible': [('maintenance_type', '!=', 'corrective')]}"/>
                        <widget name="web_ribbon" title="Preventive" bg_color="bg-info"
                                attrs="{'invisible': [('maintenance_type', '!=', 'preventive')]}"/>
                    </field>
                    <field name="equipment_id" position="before">
                        <field name="project_id" options="{'no_create': True, 'no_create_edit':True, 'no_open': True}"/>
                        <field name="location_id"
                               options="{'no_create': True, 'no_create_edit':True, 'no_open': True}"/>
                    </field>
                    <field name="equipment_id" position="attributes">
                        <attribute name="options">
                            {'no_create_edit': True, 'no_create': True, 'no_open': True}
                        </attribute>
                    </field>
                    <field name="category_id" position="after">
                        <field name="part_ids" widget="many2many_tags"
                               options="{'no_create': True, 'no_create_edit':True, 'no_open': True}"/>
                    </field>
                    <field name="maintenance_team_id" position="after">
                        <field name="team_lead_id"/>
                    </field>
                    <field name="category_id" position="attributes">
                        <attribute name="string">Equipment Category</attribute>
                    </field>
                    <field name="description" position="after">
                        <notebook>
                            <page name="task_sheet" string="Task Sheet">
                                <field name="task_sheet_line_ids" context="{'default_equipment_id': equipment_id}">
                                    <tree editable="bottom" create="1" edit="1" delete="1" multi_edit="1" sample="1">
                                        <field name="task_line_id" domain="[('equipment_id', '=', equipment_id)]"/>
                                        <field name="project_id"/>
                                        <field name="location_id"/>
                                        <field name="equipment_id"/>
                                        <field name="task_categ_id"/>
                                        <field name="task_id"/>
                                        <field name="date"/>
                                        <field name="state"/>
                                        <field name="note"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </field>
                </data>
            </field>
        </record>

        <record id="maintenance_team_view_tree_inherit" model="ir.ui.view">
            <field name="name">maintenance.team.tree.inherit</field>
            <field name="inherit_id" ref="maintenance.maintenance_team_view_tree"/>
            <field name="model">maintenance.team</field>
            <field name="arch" type="xml">
                <field name="name" position="after">
                    <field name="team_lead_id"/>
                </field>
            </field>
        </record>

    </data>
</openerp>
